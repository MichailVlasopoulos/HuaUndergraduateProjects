# Task Offloading in Vehicular Edge Computing Networks: A Load-Balancing Solution

## Introduction
Οι τεχνολογικές εξελίξεις των τελευταίων ετών έχουν πυροδοτήσει νέες απαιτήσεις στον τομέα της αυτοκίνησης. Έννοιες όπως **αυτόνομη οδήγηση**, **αυτόματη πλοήγηση** και **φωνητική αλληλεπίδραση μεταξύ οχήματος και οδηγού** δεν βρίσκονται πλέον στη σφαίρα της φαντασίας μας. Χάρη στην πρόοδο στον τομέα των δικτύων και στο υλικό των ηλεκτρονικών υπολογιστών, είμαστε σε θέση πλέον να μπορούμε να εξυπηρετούμε delay-sensitive tasks όπως τα παραπάνω μέσω task offloading. Το paper αυτό μελετάει έναν αποδοτικό αλγόριθμο task offloading ο οποίος φροντίζει να παρέχει και load balancing για αποδοτικότερη διαχείριση πόρων.

## The Architecture
Για να μπορέσουμε να έχουμε εγγύηση για το QoS μας, καταφεύγουμε στη λύση του **Mobile Edge Computing (MEC)** και δημιουργούμε **Vehicular Edge Computing Networks (VECNs)**. Η αρχιτεκτονική των δικτύων αυτών μπορεί να χωριστεί σε 4 μέρη:

1. Σε **ad-hoc δίκτυα μεταξύ των οχημάτων (Vehicular ad hoc networks η VANETs)**
2. Σε MEC δίκτυα που αποτελούνται από **Roadside Units (RSUs)** τα οποία τοποθετούνται κατά μήκος του δρόμου και τρέχουν **MEC Servers**. Τα RSUs θα χρησιμοποιούνται για να μπορούν τα οχήματα να κάνουν offload απαιτητικές διεργασίες σε edge servers με ελάχιστη καθυστέρηση.
3. Σε **Fiber-Wireless (FiWi) δίκτυα**, τα οποία με χρήση οπτικών ινών και ταχύτατου ασύρματου δικτύου μπορούν να μεταφέρουν φόρτο από τα RSUs σε ένα Remote Cloud Datacenter χιλιάδες μίλια μακριά, αν αυτό κριθεί απαραίτητο.
4. Σε ένα **Software-Defined Network (SDN)**, το οποίο είναι απαραίτητο για την **κεντροποιημένη διαχείριση του δικτύου και της υποδομής**. Ο load-balancing αλγόριθμος χρειάζεται να έχει συνολική επίγνωση της κατάστασης (φόρτου) της υποδομής μας για να πάρει τις κατάλληλες αποφάσεις, άρα χρειάζεται και πρόσβαση σε κεντροποιημένες πληροφορίες.

## System Model
Η έρευνα βασίζεται στην υπόθεση ότι έχουμε έναν δρόμο διπλής κυκλοφορίας, στο οποίο **Ν** οχήματα κινούνται σε αυτό. Επίσης, στον δρόμο έχουν τοποθετηθεί **Μ** RSUs σε ισόποσες αποστάσεις ανά δύο μεταξύ τους. Σε κάθε RSU, ένας MEC Server έχει γίνει deployed.

Τα οχήματα μπορούν να επικοινωνήσουν με μια RSU με 2 τρόπους:
- Με **Vehicle-to-Vehicle(V2V)** επικοινωνία, δηλαδή να εκμεταλλευτεί τον ad-hoc χαρακτήρα του δικτύου και να μεταβιβάσει σε άλλο όχημα τα δεδομένα για να μεταδωθεί σε μία RSU εμμέσως.
- Με **Vehicle-to-Infrastructure(V2I)** επικοινωνία, δηλαδή να μεταβιβάσει το όχημα δεδομένα σε μία RSU απευθείας.

Συνεπώς υπάρχουν **M + 2** επιλογές εκτέλεσης task για κάθε όχημα:

- Η 1η επιλογή είναι το task να εκτελεστεί τοπικά στη CPU του οχήματος (optimal αν ειναι είναι intensive το task).
- Η 2η επιλογή είναι το task να εκτελεστεί σε ένα από τα M RSUs.
- Η 3η επιλογή είναι το task να εκτελεστεί στο Remote Cloud Datacenter

Η καθεμία από αυτές τις επιλογές έχει την δικιά της φόρμουλα υπολογισμού χρόνου εκτέλεσης και μετάδοσης. Χωρίς να μπούμε σε μεγάλες μαθηματικές λεπτομέρειες, ας δούμε συνοπτικά ποιοι παράγοντες επηρεάζουν κάθε επιλογή:

- Όταν ένα όχημα αποφασίζει να εκτελέσει ένα task στην CPU του, το processing delay **εξαρτάται μόνο από την υπολογιστική δυνατότητα της CPU**.
- Όταν ένα όχημα αποφασίζει να μεταβιβάσει ένα task σε ένα RSU, τότε το processing delay είναι **ο χρόνος εκτέλεσης στην CPU του RCU (tEXEC) + ο χρόνος μεταφοράς των δεδομένων στο δίκτυο (tTRANS)**. Να σημειωθεί ότι το μέγεθος του tTRANS εξαρτάται σε μεγάλο βαθμό από το αν το όχημα θα επιλέξει V2V η V2I για την επικοινωνία.
- Όταν ένα όχημα αποφασίζει να μεταβιβάσει το task στο Remote Cloud Datacenter τότε το processing delay είναι **ο χρόνος εκτέλεσης στη CPU του Datacenter + ο χρόνος μεταφοράς των δεδομένων μεταξύ οχήματος-RSU μέσω ασύρματου δικτύου + ο χρόνος μεταφοράς των δεδομένων μεταξύ RSU-Datacenter μέσω οπτικών ινών**.

## Problem Solution
Το βασικό μας πρόβλημα είναι το εξής: **Θέλουμε να μειώσουμε τον συνολικό χρόνο εκτέλεσης των tasks, βρίσκοντας το κατάλληλο profile εκτέλεσης για καθένα από αυτά**. Οι παραμέτροι μας είναι οι εξής:

- Έχουμε ένα **χρονικό όριο αποδεκτής καθυστέρησης (tMAX)** για κάθε task.
- Σε κάθε RSU μπορεί να συνδεθεί **περιορισμένος αριθμός οχημάτων.**
- Με βάση τους παραπάνω περιορισμούς ο αλγόριθμος επίλυσης του πρέπει να προτείνει:
	- **Ποιο είναι το κατάλληλο μέρος για να γίνει offload το task**.
	- **Ποια μέθοδος επικοινωνίας πρέπει να επιλέξει το όχημα**.
	
**Επίσης ο αλγόριθμος πρέπει να μην καταπονεί τους MEC Servers, δηλαδή να εφαρμόζει load balancing**.

Δεν θα δοθεί μεγάλη ανάλυση στο μέρος του αλγορίθμου που βρίσκει το κατάλληλο τρόπο επικοινωνίας. **Συνοπτικά, χρησιμοποποιούνται οι κεντροποιημένες πληροφορίες από το SDN για να πάρθούν οι κατάλληλες αποφάσεις.** Αφού ξέρουμε το μοντέλο επικοινωνίας, τότε μπορούμε να αρχίσουμε τον υπολογισμό της απόφασης του task offload. Η βηματική προσέγγιση είναι η εξής:

1. **Υπολογίζεται το processing delay για όλα τα tasks με όλους τους πιθανούς τρόπους που μπορεί να γίνει offload**.
2. **Απορρίπτονται από τα αποτελέσματα, αυτά τα οποία το processing delay τους υπερβαίνει το tMAX**.
3. **Αν το task εκτελείται στην τοπική CPU σε χρόνο μικρότερο του tMAX τότε εκτελείται εκεί, αλλιώς υπολογίζουμε βάσει των real-time συνθηκών σε δίκτυο, utilization των MEC Servers και του processing delay της κάθε μεθόδου αν το task θα εκτελεστεί σε MEC Server η στο Remote Cloud Datacenter**.

Τα αποτελέσματα της έρευνας τους έδειξαν ότι ο load-balancing αλγόριθμός τους ήταν αρκετά πιο αποτελεσματικός σε σχέση με παρόμοιους συμβατικούς αλγορίθμους που δεν είχαν load balancing.
